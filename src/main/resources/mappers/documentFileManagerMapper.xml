<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.team.sprout.dao.DocumentFileManagerDAO">

	<insert id="insertDocumentBoard" parameterType="DocumentBoard">
		insert into DOCUMENT_BOARD
		(
			DOCUMENT_BOARD_NUM,
			DOCUMENT_BOARD_TITLE,
			DOCUMENT_BOARD_CONTENT,
			DOCUMENT_FILE_ORIGINALFILE,
			DOCUMENT_FILE_LOCATION,
			DOCUMENT_FILE_EXTENTION,
			DOCUMENT_FILE_DATE
		)
		values
		(
			DOCUMENT_BOARD_NUM_SEQ.nextval
			, #{document_board_title}
			, #{document_board_content}
			, #{document_file_originalfile}
			, #{document_file_location}
			, #{doucument_file_extension}
			, sysdate
		)
	</insert>
	
	<select id="selectBoardNum" resultType="int">
		select max(DOCUMENT_BOARD_NUM)
		from DOCUMENT_BOARD
	</select>
	
	<insert id="insertDocumentFolder" parameterType="DocumentFolder">
		insert into DOCUMENT_FOLDER
		(
			DOCUMENT_FOLDER_NUM,
			DOCUMENT_BOARD_NUM,
			MAINPROJECT_PROJECTNUM,
			DOCUMENT_FOLDER_TITLE
		)
		values
		(
			DOCUMENT_FOLDER_NUM_SEQ.nextval
			, #{document_board_num}
			, #{mainProject_projectNum}
			, #{document_folder_title}
		)
	</insert>
	
	<select id="selectAllFolder" resultType="Map">
		select 
			dfd.DOCUMENT_FOLDER_TITLE,
			dfd.DOCUMENT_BOARD_NUM,
			db.DOCUMENT_BOARD_TITLE,
			db.DOCUMENT_BOARD_CONTENT,
			db.DOCUMENT_FILE_NUM
		from
			document_folder dfd,
			document_board db
		where
			dfd.DOCUMENT_BOARD_NUM = db.DOCUMENT_BOARD_NUM
	</select>
	
	
</mapper>